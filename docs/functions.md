TFIB Waitlist â€” Functions and Controls Added in this Version
===========================================================

This document lists the key functions, controls, and frontend behaviors added or changed in the v2.x snapshot.

Files changed
-------------
- includes/Elementor/WaitlistWidget.php
- assets/js/frontend.js
- assets/css/frontend.css

1) Elementor Controls (server-side)
----------------------------------
File: `includes/Elementor/WaitlistWidget.php`

- notice_icon (Controls_Manager::ICONS)
  - Purpose: Allow admin to pick an icon (Font Awesome, eicons, etc.) to display in the notice area instead of or in addition to the default emoji.
  - Default: `fas fa-envelope` (Font Awesome solid envelope)
  - Usage: The control returns an array (value and library). The widget must pass this value into the frontend settings JSON so `frontend.js` can render it.

- notice_border_width (Controls_Manager::SLIDER)
  - Purpose: Control border width for the `.tfib-waitlist__notice` element.
  - Selector: `{{WRAPPER}} .tfib-waitlist__notice { border-width: {{SIZE}}{{UNIT}}; }`

- notice_border_style (Controls_Manager::SELECT)
  - Purpose: Control border style (solid, dashed, dotted, double, groove, ridge, inset, outset)
  - Selector: `{{WRAPPER}} .tfib-waitlist__notice { border-style: {{VALUE}}; }`

- notice_border_radius (Controls_Manager::SLIDER)
  - Purpose: Control border radius for notice area.
  - Selector: `{{WRAPPER}} .tfib-waitlist__notice { border-radius: {{SIZE}}{{UNIT}}; }`

- button_hover_color (Controls_Manager::COLOR)
  - Purpose: Set hover background color for trigger and submit buttons.
  - Selectors: `{{WRAPPER}} .tfib-waitlist__trigger:hover` and `{{WRAPPER}} .tfib-waitlist__submit:hover`

- button_hover_text_color (Controls_Manager::COLOR)
  - Purpose: Set hover text color for buttons.

- button_hover_transition (Controls_Manager::SLIDER)
  - Purpose: Transition duration for hover effect in ms. Applied to `transition: all {{SIZE}}ms ease;` on the buttons.

- button_hover_shadow (Controls_Manager::SWITCHER)
  - Purpose: Optional shadow applied on hover for both trigger and submit buttons.

Implementation notes
--------------------
- The server-side controls rely on Elementor's `selectors` feature so many of the styles are injected automatically at render time.
- Ensure `render()` includes `notice_icon` in the data attribute used by the frontend (wp_json_encode). The icon control returns an object like `{value: 'fas fa-envelope', library: 'fa-solid'}`. Frontend code should detect and render accordingly.

2) Frontend JavaScript
----------------------
File: `assets/js/frontend.js`

- Duplicate trigger fix
  - Issue: `renderInlineForm()` previously appended a trigger button, then later created the same trigger in `layoutHtml`, causing two buttons. Removed the duplicate append so only one trigger is generated.

- Icon rendering
  - Current: formerly used a hard-coded emoji `ðŸ“­` in the notice HTML.
  - Required: Use the `settings.notice_icon` payload passed from PHP to render chosen icons. If the icon control isn't present or is empty, frontend falls back to the default emoji.

3) Frontend CSS
----------------
File: `assets/css/frontend.css`

- Notice styles
  - `.tfib-waitlist__notice` receives border styles via Elementor selectors from the controls added above.

- Button hover styles
  - Hover background and text color will be applied through selectors generated by the Elementor controls.
  - Transition property is also added by the selector for `button_hover_transition`.

Developer checklist for release
-------------------------------
- [ ] Confirm `render()` serializes `notice_icon` and includes it in `data-tfib-settings` JSON attribute.
- [ ] Update `assets/js/frontend.js` to render icons for multiple libraries (Font Awesome vs eicons). Fallback to emoji if not provided.
- [ ] Test hover states in multiple browsers and ensure specificity doesn't get overridden by theme CSS.

If you want, I can automatically update `render()` and `frontend.js` now to ensure `notice_icon` is passed and rendered; or create a small unit test harness to verify the settings object. Let me know which you prefer.
